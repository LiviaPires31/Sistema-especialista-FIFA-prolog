%2a parte (10 ptos)

%a base de conhecimento

%Base de dados

%jogador(    nome           posi  - id- ov-pot- equipe- valor- salario )
%            ********        ***     *  *   *

jogador("E. Camavinga"     , "VOL" ,19, 81, 89, "Real Madrid"              ,53  , 75 ).
jogador("Vinícius Jr"      , "PE"  ,21, 86, 92, "Real Madrid"              , 109, 200).
jogador("K. De Bruyne"     , "MC"  ,31, 91, 91, "Manchester City"          , 108 ,350).
jogador("E. Haaland"       , "ATA" ,21, 90, 94, "Manchester City"          , 177, 240).
jogador("A. Tchouaméni"    , "VOL" ,22, 83, 89, "Real Madrid"              , 54 , 145).
jogador("Rodrygo"          , "PD"  ,21, 83, 89, "Real Madrid"              , 59 , 150).
jogador("A. Rüdiger"       , "ZAG" ,29, 86, 86, "Real Madrid"              , 57 , 230).
jogador("J. Dina Ebimbe"   , "MC"  ,21, 75, 80, "Eintracht Frankfurt"      , 9  , 44 ).
jogador("F. Valverde"      , "MC"  ,23, 86, 91, "Real Madrid"              , 102, 210).
jogador("J. Grealish"      , "PE"  ,26, 84, 84, "Manchester City"          , 46 , 185).
jogador("R. Rúnarsson"     , "GOL" ,27, 71, 73, "Alanyaspor"               , 2  , 31 ).
jogador("Gonçalo Ramos"    , "ATA" ,21, 80, 87, "Benfica"                  , 43 , 15 ).
jogador("M. Akanji"        , "ZAG" ,26, 82, 83, "Manchester City"          , 32 , 130).
jogador("Bernardo Silva"   , "MC"  ,27, 88, 88, "Manchester City"          , 97 , 260).
jogador("G. Orban"         , "ATA" ,19, 70, 81, "Gent"                     , 4  , 8  ).
jogador("L. Modric"        , "MC"  ,36, 88, 88, "Real Madrid"              , 29 , 230).
jogador("K. Benzema"       , "SA"  ,34, 91, 91, "Real Madrid"              , 64 , 450).
jogador("Rafael Leão"      , "PE"  ,23, 84, 90, "Milan"                    , 67 , 90 ).
jogador("J. Álvarez"       , "ATA" ,22, 79, 86, "Manchester City"          , 36 , 110).
jogador("K. Kvaratskhelia" , "PE"  ,21, 81, 90, "Napoli"                   , 58 , 53 ).
jogador("T. Baldanzi"      , "MEI" ,19, 75, 89, "Empoli"                   , 14 , 7  ).
jogador("W. Zaïre-Emery"   , "MC"  ,16, 71, 88, "Paris Saint Germain"      , 5  , 5  ).
jogador("L. Messi"         , "PD"  ,35, 91, 91, "Paris Saint Germain"      , 54 , 500).
jogador("D. Alaba"         , "ZAG" ,30, 86, 86, "Real Madrid"              , 56 , 220).
jogador("D. Núñez"         , "ATA" ,23, 82, 89, "Liverpool"                , 62 , 120).
jogador("E. Hazard"        , "PE"  ,31, 82, 82, "Real Madrid"              , 25 , 185).
jogador("P. Foden"         , "PE"  ,22, 84, 90, "Manchester City"          , 68 , 165).
jogador("K. Walker"        , "LD"  ,32, 84, 84, "Manchester City"          , 29 , 155).
jogador("V. Osimhen"       , "ATA" ,23, 85, 90, "Napoli"                   , 83 , 86 ).
jogador("X. Simons"        , "MEI" ,19, 78, 88, "PSV"                      , 31 , 12 ).
jogador("K. Mbappé"        , "ATA" ,23, 91, 95, "Paris Saint Germain"      , 191, 450).
jogador("M. Olise"         , "PD"  ,20, 77, 84, "Crystal Palace"           , 21 , 43 ).
jogador("R. Lavia"         , "VOL" ,18, 69, 86, "Southampton"              , 4  , 6  ).
jogador("N. Aké"           , "ZAG" ,27, 80, 81, "Manchester City"          , 21 , 110).
jogador("R. Lewis"         , "LD"  ,17, 70, 87, "Manchester City"          , 4  , 2  ).
jogador("T. Kroos"         , "MC"  ,32, 88, 88, "Real Madrid"              , 72 , 310).
jogador("J. Koundé"        , "LD"  ,23, 84, 89, "FC Barcelona"             , 60 , 150).
jogador("J. Stones"        , "ZAG" ,28, 83, 84, "Manchester City"          , 35 , 150).
jogador("Marco Asensio"    , "PD"  ,26, 83, 83, "Real Madrid"              , 40 , 200).
jogador("Brahim"           , "MEI" ,22, 79, 84, "Milan"                    , 27 , 120).
jogador("K. Adeyemi"       , "ME"  ,20, 78, 87, "Borussia Dortmund"        , 31 , 33 ).
jogador("J. Bellingham"    , "MC"  ,19, 85, 91, "Borussia Dortmund"        , 82 , 44 ).
jogador("M. Baturina"      , "MC"  ,19, 73, 86, "Dinamo Zagreb"            , 7  , 1  ).
jogador("Cristiano Ronaldo", "ATA" ,37, 87, 87, "Al Nassr"                 , 27 , 500).
jogador("Éder Militão"     , "ZAG" ,24, 85, 89, "Real Madrid"              , 70 , 175).
jogador("A. Güler"         , "MEI" ,17, 73, 86, "Fenerbahçe"               , 7  , 6  ).
jogador("W. Weghorst"      , "ATA" ,29, 79, 79, "Manchester United"        , 18 , 59 ).
jogador("A. Mac Allister"  , "MC"  ,23, 80, 84, "Brighton & Hove Albion"   , 30 , 65 ).
jogador("Rodri"            , "VOL" ,26, 87, 89, "Manchester City"          , 89 , 200).
jogador("R. Kolo Muani"    , "ATA" ,23, 82, 86, "Eintracht Frankfurt"      , 44 , 40 ).
jogador("J. Gvardiol"      , "ZAG" ,20, 82, 89, "RB Leipzig"               , 56 , 44 ).
jogador("R. Cherki"        , "MEI" ,18, 74, 87, "Olympique Lyonnais"       , 10 , 16 ).
jogador("Ansu Fati"        , "PE"  ,19, 79, 89, "FC Barcelona"             , 38 , 84 ).
jogador("J. Frimpong"      , "LD"  ,21, 82, 88, "Bayer 04 Leverkusen"      , 46 , 44 ).
jogador("L. Geertruida"    , "ZAG" ,21, 78, 86, "Feyenoord"                , 30 , 9  ).
jogador("B. Saka"          , "PD"  ,20, 85, 90, "Arsenal"                  , 80 , 110).
jogador("Fresneda"         , "LD"  ,17, 69, 85, "Real Valladolid"          , 4  , 1  ).
jogador("Jobe B."          , "MC"  ,16, 60, 82, "Birmingham City"          , 1  , 1  ).
jogador("Carvajal"         , "LD"  ,30, 84, 84, "Real Madrid"              , 37 , 185).
jogador("M. Rashford"      , "PE"  ,24, 85, 88, "Manchester United"        , 74 , 170).
jogador("L. Trossard"      , "ATA" ,27, 80, 80, "Arsenal"                  , 23 , 95 ).
jogador("G. Rutter"        , "ATA" ,20, 74, 84, "Leeds United"             , 10 , 27 ).
jogador("K. Koné"          , "MC"  ,21, 77, 86, "Borussia Mönchengladbach" , 24 , 21 ).
jogador("Gavi"             , "MC"  ,17, 80, 89, "FC Barcelona"             , 44 , 18 ).
jogador("G. Scalvini"      , "ZAG" ,18, 71, 86, "Atalanta"                 , 4  , 7  ).
jogador("T. Hernández"     , "LE"  ,24, 85, 90, "Milan"                    , 76 , 82 ).
jogador("K. Thuram"        , "MC"  ,21, 79, 85, "Nice"                     , 28 , 35 ).
jogador("O. Giroud"        , "ATA" ,35, 83, 83, "Milan"                    , 16 , 72 ).
jogador("E. Álvarez"       , "VOL" ,24, 80, 84, "Ajax"                     , 28 , 17 ).
jogador("Kim Min Jae"      , "ZAG" ,25, 80, 84, "Napoli"                   , 27 , 52 ).
jogador("K. Mitoma"        , "ME"  ,25, 79, 82, "Brighton & Hove Albion"   , 23 , 68 ).
jogador("A. Scott"         , "MC"  ,18, 71, 84, "Bristol City"             , 4  , 8  ).
jogador("Diogo Costa"      , "GOL" ,22, 82, 87, "Porto"                    , 38 , 13 ).
jogador("M. Mudryk"        , "ME"  ,21, 75, 85, "Chelsea"                  , 13 , 57 ).
jogador("Gonçalo Inácio"   , "ZAG" ,20, 79, 88, "Sporting CP"              , 36 , 11 ).
jogador("L. Romero"        , "PD"  ,17, 69, 84, "Lazio"                    , 3  , 4  ).
jogador("B. Šeško"         , "ATA" ,19, 74, 85, "Salzburg"                 , 9  , 16 ).
jogador("Alejandro Ganacho", "PE"  ,18, 70, 86, "Manchester United"        , 4  , 21 ).
jogador("E. Larsson"       , "LD"  ,30 ,69, 69, "Malmö, FF"                , 1  , 4  ).
jogador("G. Xhaka"         , "VOL" ,29, 82, 82, "Arsenal"                  , 26 , 100).
jogador("B. White"         , "ZAG" ,24, 80, 84, "Arsenal"                  , 28 , 69 ).
jogador("K. Danso"         , "ZAG" ,23, 78, 84, "Lens"                     , 20 , 27 ).
jogador("M. Diaby"         , "SA"  ,22, 84, 88, "Bayer 04 Leverkusen"      , 62 , 70 ).
jogador("S. Giménez"       , "ATA" ,21,	76, 84, "Feyenoord"                , 17 , 10 ).
jogador("A. Hložek"        , "ATA" ,19, 76, 86, "Bayer 04 Leverkusen"      , 17 , 29 ).
jogador("António Silva"    , "ZAG" ,18, 77, 88, "Benfica"                  , 21 , 4  ).
jogador("I. Gündogan"      , "MC"  ,31, 85, 85, "Manchester City"          , 44 , 185).
jogador("K. Walker"        , "LD"  ,32, 84, 84, "Manchester City"          , 29 , 155).
jogador("Neymar Jr"        , "PE"  ,30, 89, 89, "Paris Saint Germain"      , 100, 200).
jogador("M. Verratti"      , "MC"  ,29, 87, 87, "Paris Saint Germain"      , 78 , 155).
jogador("Casemiro"         , "VOL" ,30, 89, 89, "Manchester United"        , 86 , 240).
jogador("J. Stones"        , "ZAG" ,28, 83, 84, "Manchester City"          , 35 , 150).
jogador("Rodri"            , "VOL" ,26, 87, 89, "Manchester City"          , 89 , 200).
jogador("L. Martínez"      , "ZAG" ,24, 83, 88, "Manchester United"        , 50 , 115).
jogador("G. Bazunu"        , "GOL" ,20, 71, 85, "Southampton"              , 4  , 15 ).
jogador("Gabri Veiga"      , "MC"  ,20, 69, 85, "Celta de Vigo"            , 4  , 8  ).
jogador("N. Fagioli"       , "VOL" ,21, 75, 87, "Juventus"                 , 13 , 49 ).
jogador("N. Mbamba"        , "VOL" ,17, 64, 84, "Bayer 04 Leverkusen"      , 2  , 1  ).
jogador("Moleiro"          , "ME"  ,18, 76, 88, "Las Palmas"               , 18 , 4  ).
jogador("W. Zaha"          , "PE"  ,29, 82, 82, "Crystal Palace"           , 30 , 85 ).
jogador("H. Son"           , "PE"  ,29, 88, 88, "Tottenham Hotspur"        , 90 , 230).
jogador("R. Sterling"      , "PE"  ,27, 85, 85, "Chelsea"                  , 58 , 180).
jogador("I. Bennacer"      , "VOL" ,24, 83, 87, "Milan"                    , 48 , 69 ).
jogador("H. Elliott"       , "MEI" ,19, 77, 87, "Liverpool"                , 23 , 49 ).
jogador("Bruno Guimarães"  , "MC"  ,24, 84, 87, "Newcastle United"         , 57 , 115).
jogador("C. Lukeba"        , "ZAG" ,19, 77, 85, "Olympique Lyonnais"       , 21 , 27 ).
jogador("Nico Williams"    , "MD"  ,19, 78, 86, "Athletic Club"            , 31 , 16 ).

times("Real Madrid", "Espanha").
times("Manchester City", "Inglaterra").
times("Eintracht Frankfurt", "Alemanha").
times("Alanyaspor", "Turquia").
times("Benfica", "Portugal").
times("Gent", "Bélgica").
times("Milan", "Itália").
times("Napoli", "Itália").
times("Empoli", "Itália").
times("Paris Saint Germain", "França").
times("Liverpool", "Inglaterra").
times("PSV", "Holanda").
times("Crystal Palace", "Inglaterra").
times("Southampton", "Inglaterra").
times("FC Barcelona", "Espanha").
times("Borussia Dortmund", "Alemanha").
times("Dinamo Zagreb", "Croácia").
times("Al Nassr", "Arábia Saudita").
times("Fenerbahçe", "Turquia").
times("Manchester United", "Inglaterra").
times("Brighton & Hove Albion", "Inglaterra").
times("RB Leipzig", "Alemanha").
times("Olympique Lyonnais", "França").
times("Bayer 04 Leverkusen", "Alemanha").
times("Feyenoord", "Holanda").
times("Arsenal", "Inglaterra").
times("Real Valladolid", "Espanha").
times("Birmingham City", "Inglaterra").
times("Leeds United", "Inglaterra").
times("Borussia Mönchengladbach", "Alemanha").
times("Atalanta", "Itália").
times("Nice", "França").
times("Ajax", "Holanda").
times("Bristol City", "Inglaterra").
times("Porto", "Portugal").
times("Chelsea", "Inglaterra").
times("Sporting CP", "Portugal").
times("Lazio", "Itália").
times("Salzburg", "Áustria").
times("Malmö FF", "Suécia").
times("Lens", "França").
times("Celta de Vigo", "Espanha").
times("Juventus", "Itália").
times("Las Palmas", "Espanha").
times("Tottenham Hotspur", "Inglaterra").
times("Newcastle United", "Inglaterra").
times("Athletic Club", "Espanha").
%------------------------------------------------------------------------------------------------------------------------
%1 -quais as equipes que aparecem na base de dados, sem repetir os nome das equipes


times_sem_repeticao() :-
    times_sem_repeticao([], Times) , imprimirLista(Times).

times_sem_repeticao(Times, Resultado) :-
    jogador(_, _, _, _, _, Time, _, _),
    \+ member(Time, Times),
    !,
    times_sem_repeticao([Time|Times], Resultado).

times_sem_repeticao(Times, Times).

imprimirLista([]).
imprimirLista([Head|Resto]) :- imprimirLista(Resto) ,
								write(Head), write('\n').


%------------------------------------------------------------------------------------------------------------------------
%2 -Qual ou quais jogadores com o MAIOR overall e a qual time ele percente?

maior_overall(Jogador, Time) :-
    findall(Overall, jogador(_, _, _, Overall, _, _, _, _), ListaOveralls),
    max_list(ListaOveralls, MaiorOverall),
    jogador(Jogador, _, _, MaiorOverall, _, Time, _, _).

%------------------------------------------------------------------------------------------------------------------------
%3 -Qual ou quais jogadores com o MENOR overall e a qual time ele percente?

menor_overall(Jogador, Time) :-
    findall(Overall, jogador(_, _, _, Overall, _, _, _, _), ListaOveralls),
    min_list(ListaOveralls, MenorOverall),
    jogador(Jogador, _, _, MenorOverall, _, Time, _, _).

%------------------------------------------------------------------------------------------------------------------------
%4- Qual a media de idade dos jogadores


calcular_Media([], 0, 0).
calcular_Media([Head|Cauda], Soma, Contador) :-
    calcular_Media(Cauda, SomaCauda, ContadorCauda),
    Soma is SomaCauda + Head,
    Contador is ContadorCauda + 1.

mediaIdadeJogadores(Media) :-
    findall(Idade, jogador(_, _, Idade, _, _, _, _, _), ListaIdade),
    calcular_Media(ListaIdade, Soma, Contador),
    format(atom(Media), '~2f', Soma/Contador).



%------------------------------------------------------------------------------------------------------------------------
%5 -Qual ou quais jogadores recebem o MAIOR salario e a qual time eles pertencem?

maior_Salario(Jogador, Time) :-
    findall(Salario, jogador(_, _, _, _, _, _, _, Salario), ListaSalario),
    max_list(ListaSalario, MaiorSalario),
    jogador(Jogador, _, _, _, _, Time, _, MaiorSalario).

%------------------------------------------------------------------------------------------------------------------------
%6 -Qual ou quais jogadores recebem o MENOR salario?

menor_Salario(Jogador, Time) :-
    findall(Salario, jogador(_, _, _, _, _, _, _, Salario), ListaSalario),
    min_list(ListaSalario, MenorSalario),
    jogador(Jogador, _, _, _, _, Time, _, MenorSalario).

%------------------------------------------------------------------------------------------------------------------------
%7- Quantos jogadores ha em cada posiçao?

% Regra para encontrar a quantidade de jogadores por posição

qtd_Por_Posicao() :-
    posicao_Sem_Repetir(ListaPosicao),
    contar_jogadores_por_posicao(ListaPosicao, Lista_Qtd_Posicao),
    imprimirTupla(Lista_Qtd_Posicao).

% Regra para contar a quantidade de jogadores por posição
contar_jogadores_por_posicao([], []).
contar_jogadores_por_posicao([Posicao|RestoPosicoes], [(Posicao, Quantidade)|RestoQtd]) :-
    findall(Nome, jogador(Nome, Posicao, _, _, _, _, _, _), Jogadores),
    length(Jogadores, Quantidade),
    contar_jogadores_por_posicao(RestoPosicoes, RestoQtd).

% Regra para pegar e criar uma lista com todas as posições
posicao_Sem_Repetir(ListaPosicao) :-
    findall(Posicao, jogador(_, Posicao, _, _, _, _, _, _), TodasPosicao),
    lista_sem_repeticao(TodasPosicao, ListaPosicao).

% Regra para remover elementos repetidos de uma lista
lista_sem_repeticao([], []).
lista_sem_repeticao([H|T], [H|T1]) :-
    remover(H, T, NovaLista),
    lista_sem_repeticao(NovaLista, T1).

% Regra para remover todas as ocorrências de um elemento em uma lista
remover(_, [], []).
remover(X, [X|T], NovaLista) :- remover(X, T, NovaLista).
remover(X, [H|T], [H|T1]) :- X \= H, remover(X, T, T1).

% Regra para imprimir a lista
imprimirTupla([]).
imprimirTupla([(Posicao, Quantidade)|Resto]) :-
    imprimirTupla(Resto),
    write(Posicao), write(": "), write(Quantidade), write('\n').

%------------------------------------------------------------------------------------------------------------------------
%8- A qual pais de determinada equipe?

pais_Equipe(Equipe, Pais) :- times(Equipe, Pais).

%------------------------------------------------------------------------------------------------------------------------
%9- Qual a media de salarios por clube?


media_Salario_Clubes(Clube, Media) :-
    findall(Salario, jogador(_, _, _, _, _, Clube, _, Salario), ListaSalario),
    calcular_Media(ListaSalario, Soma, Contador),
    format(atom(Media), '~2f', Soma/Contador).


%------------------------------------------------------------------------------------------------------------------------
%10- Qual ou quais os jogadores com a MAIOR idade e qual time ele percente?

 maior_Idade(Jogador, Time) :-
    findall(Idade, jogador(_, _, Idade, _, _, _, _, _), ListaIdade),
    max_list(ListaIdade, MaiorIdade),
    jogador(Jogador, _, MaiorIdade, _, _, Time, _, _).


%------------------------------------------------------------------------------------------------------------------------
%11-Qual ou quais os jogadores com a MENOR idade e qual time ele percente?

 menor_Idade(Jogador, Time) :-
    findall(Idade, jogador(_, _, Idade, _, _, _, _, _), ListaIdade),
    min_list(ListaIdade, MenorIdade),
    jogador(Jogador, _, MenorIdade, _, _, Time, _, _).

%------------------------------------------------------------------------------------------------------------------------
%12- Qual ou quais os jogadores e qual time ele percente com MAIOR  potencial para ser alcançado?


 maior_Potencial(Jogador, Time) :-
    findall(Potencial, jogador(_, _, _, _, Potencial, _, _, _), ListaPotencial),
    max_list(ListaPotencial, MaiorPotencial),
    jogador(Jogador, _, _, _,MaiorPotencial, Time, _, _).

%------------------------------------------------------------------------------------------------------------------------
%13- Qual ou quais os jogadores e qual time ele percente com  MENOR potencial para ser alcançado?

 menor_Potencial(Jogador, Time) :-
    findall(Potencial, jogador(_, _, _, _, Potencial, _, _, _), ListaPotencial),
    min_list(ListaPotencial, MenorPotencial),
    jogador(Jogador, _, _, _,MenorPotencial, Time, _, _).

%------------------------------------------------------------------------------------------------------------------------
%14- Qual é o overall do jogador X?

overallJogador(Nome, Overall):- jogador(Nome, _,_,Overall,_,_,_,_).

%------------------------------------------------------------------------------------------------------------------------
%15- Qual é a posição do jogador X?

posicaoJogador(Nome, Posicao):- jogador(Nome,Posicao,_,_,_,_,_,_).

%------------------------------------------------------------------------------------------------------------------------
%16- Qual é o clube do jogador X?

clubeJogador(Nome, Equipe):- jogador(Nome, _,_,_,_,Equipe,_,_).

%------------------------------------------------------------------------------------------------------------------------
%17- Qual é o valor do jogador X?

valorJogador(Nome, Valor):- jogador(Nome, _,_,_,_,_,Valor,_).


%------------------------------------------------------------------------------------------------------------------------
%18- Qual é o salário do jogador X?

salarioJogador(Nome, Salario):- jogador(Nome, _,_,_,_,_,_,Salario).

%------------------------------------------------------------------------------------------------------------------------
%19- Quais são os jogadores do clube X?

jogadoresEquipe(Nome, Equipe):- jogador(Nome, _,_,_,_,Equipe,_,_).

%------------------------------------------------------------------------------------------------------------------------
%20- Quais são os jogadores com overall acima de X?

overallAcima(Nome, Overall):- jogador(Nome, _,_,Geral,_,_,_,_) , (Geral > Overall).

%------------------------------------------------------------------------------------------------------------------------
%21- Quais são os jogadores que pertencem ao clube X e têm overall acima de Y?

jogadoresClubeOverall(Nome, Equipe, Overall):- jogador(Nome, _,_,_,_,Equipe,_,_) , overallAcima(Nome, Overall).

%------------------------------------------------------------------------------------------------------------------------
%22- Qual ou quais é o jogador mais valioso?

maisValiosos(Jogador,MaiorValor) :-
    findall(Valor, jogador(_, _, _, _, _, _, Valor, _), ListaValores),
    max_list(ListaValores, MaiorValor),
    jogador(Jogador, _, _, _, _, _, MaiorValor, _).


%------------------------------------------------------------------------------------------------------------------------
%23- Qual ou quais é o jogador menos valioso?

menosValiosos(Jogador,MenorValor) :-
    findall(Valor, jogador(_, _, _, _, _, _, Valor, _), ListaValores),
    min_list(ListaValores, MenorValor),
    jogador(Jogador, _, _, _, _, _, MenorValor, _).


%------------------------------------------------------------------------------------------------------------------------
%24- Quais os jogadores que estao prestes a se aposentar nos proximos 3 anos, lembrando que um jogador aposenta a parir de 36 anos?

aposentar() :-
    findall(Nome, (jogador(Nome, _, Idade, _, _, _, _, _),Idade>33),JogadorLista ),
    imprimirLista(JogadorLista).


%------------------------------------------------------------------------------------------------------------------------
%25- Quais são os jogadores com salário acima de X e overall abaixo de Y?

%Na regra abaixo, deve se passar uma variavel para receber o nome dos jogadores e um valor que sera o salario e outro valor que sera o Overall

salarioOverall(Nome, Salario, Overall):- jogador(Nome, _,_,Geral,_,_,_,Money) ,
										((Money > Salario) , (Geral < Overall)).

 %------------------------------------------------------------------------------------------------------------------------
%26 Encontrar a média de overall de uma equipe:

media_Overall_Por_Equipe(Equipe,Media) :-
    findall(Overall, jogador(_, _, _, Overall, _, Equipe, _, _), ListaOverall),
    calcular_Media(ListaOverall, Soma, Contador),
    format(atom(Media), '~2f', Soma/Contador).
%------------------------------------------------------------------------------------------------------------------------
%27 Encontrar a idade média dos jogadores de uma equipe:

media_Idade_Por_Equipe(Equipe,Media) :-
    findall(Idade, jogador(_, _, Idade, _, _, Equipe, _, _), ListaIdade),
    calcular_Media(ListaIdade, Soma, Contador),
    format(atom(Media), '~2f', Soma/Contador).

%------------------------------------------------------------------------------------------------------------------------
%28 Encontrar a idade média dos jogadores de uma determinada posição:

media_Idade_Por_Posicao(Posicao,Media) :-
    findall(Idade, jogador(_, Posicao, Idade, _, _, _, _, _), ListaIdade),
    calcular_Media(ListaIdade, Soma, Contador),
    format(atom(Media), '~2f', Soma/Contador).


%------------------------------------------------------------------------------------------------------------------------

%29- A qual pais de determinado jogador joga?

pais_Jogador(Jogador, Pais) :- jogador(Jogador,_,_,_,_,Equipe,_,_) , pais_Equipe(Equipe, Pais).
%------------------------------------------------------------------------------------------------------------------------
%30- Qual a folha salarial das equipes


folha_Salarial():- atimes_sem_repeticao(Times) , calculaFolha(Times,TuplaTimeFolha),imprimirTupla(TuplaTimeFolha).

calculaFolha([], []).
calculaFolha([Time | Resto], [(Time, Soma) | TuplaTimeFolha]) :-
    findall(Salario, jogador(_, _, _, _, _, Time, _, Salario), ListaSalario),
    soma(ListaSalario, Soma),
    calculaFolha(Resto, TuplaTimeFolha).


%SOMAR TODOS OS VALORES
soma([], 0).
soma([H|T], S) :- soma(T, S1), S is S1 + H.

atimes_sem_repeticao(Times) :-
    atimes_sem_repeticao([], Times).

atimes_sem_repeticao(Times, Resultado) :-
    jogador(_, _, _, _, _, Time, _, _),
    \+ member(Time, Times),
    !,
    atimes_sem_repeticao([Time|Times], Resultado).

atimes_sem_repeticao(Times, Times).



%------------------------------------------------------------------------------------------------------------------------

